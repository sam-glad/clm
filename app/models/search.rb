class Search < ActiveRecord::Base
  validates :query, presence: true, uniqueness: { scope: [:user, :location] }
  validates :location, presence: true
  validates :user, presence: true
  validates :min_price,
            allow_blank: true,
            numericality: { greater_than_or_equal_to: 0, message: 'Min price' \
              ' must be zero or more!' }
  validates :max_price,
            allow_blank: true,
            numericality: { greater_than_or_equal_to: 0, message: 'Max price' \
              ' must be zero or more!' }

  belongs_to :user
  has_many :posts, dependent: :destroy

  def open_page(url)
    RestClient.get(url)
  end

  def root_cl
    Search::CITIES[location][:url]
  end

  def url
    short_category = Search::CATEGORIES[category][:short]
    short_query = query.gsub(/\s+/, '+')
    short_search_url =
      "#{root_cl}/search/#{short_category}?query=#{short_query}"
    short_search_url += "&minAsk=#{min_price}" if min_price
    short_search_url += "&maxAsk=#{max_price}" if max_price
    short_search_url += '&hasPic=1' if has_img
    short_search_url
  end

  def fetch_results
    html = Nokogiri::HTML(open_page(url))
    rows_to_scrape = 5 # Temporary limit

    results = html.css('p.row')[1..rows_to_scrape].map do |row|
      result = CraigslistResult.new(row, self, root_cl)
      # Wait a random amount of time so they don't throttle me
      sleep(rand(13.0..47.0))
      result
    end
    results
  end

  def results
    @results ||= fetch_results
  end

  def update_results
    if !results.empty?
      @results.each do |result|
        Post.find_or_create_from_craigslist_result(result)
      end
    end
  end

  CITIES = {
    'Aberdeen' => { short: 'abz', url: 'http://aberdeen.craigslist.co.uk' },
    'Abilene' => { short: 'abi', url: 'http://abilene.craigslist.org' },
    'Acapulco' => { short: 'aca', url: 'http://acapulco.craigslist.com.mx' },
    'Adelaide' => { short: 'adl', url: 'http://adelaide.craigslist.com.au' },
    'Ahmedabad' => { short: 'amd', url: 'http://ahmedabad.craigslist.co.in' },
    'Akron / Canton' => { short: 'cak', url: 'http://akroncanton.craigslist.org' },
    'Albany' => { short: 'aby', url: 'http://albanyga.craigslist.org' },
    'Albany' => { short: 'alb', url: 'http://albany.craigslist.org' },
    'Albuquerque' => { short: 'abq', url: 'http://albuquerque.craigslist.org' },
    'Alicante' => { short: 'alc', url: 'http://alicante.craigslist.es' },
    'Altoona-Johnstown' => { short: 'aoo', url: 'http://altoona.craigslist.org' },
    'Amarillo' => { short: 'ama', url: 'http://amarillo.craigslist.org' },
    'Ames' => { short: 'ame', url: 'http://ames.craigslist.org' },
    'Amsterdam / Randstad' => { short: 'ams', url: 'http://amsterdam.craigslist.org' },
    'Anchorage / Mat-Su' => { short: 'anc', url: 'http://anchorage.craigslist.org' },
    'Annapolis' => { short: 'anp', url: 'http://annapolis.craigslist.org' },
    'Ann Arbor' => { short: 'aaa', url: 'http://annarbor.craigslist.org' },
    'Appleton-Oshkosh-FDL' => { short: 'app', url: 'http://appleton.craigslist.org' },
    'Asheville' => { short: 'ash', url: 'http://asheville.craigslist.org' },
    'Ashtabula' => { short: 'jfn', url: 'http://ashtabula.craigslist.org' },
    'Athens' => { short: 'ahn', url: 'http://athensga.craigslist.org' },
    'Athens' => { short: 'ohu', url: 'http://athensohio.craigslist.org' },
    'Atlanta' => { short: 'atl', url: 'http://atlanta.craigslist.org' },
    'Auburn' => { short: 'aub', url: 'http://auburn.craigslist.org' },
    'Auckland' => { short: 'akl', url: 'http://auckland.craigslist.org' },
    'Augusta' => { short: 'aug', url: 'http://augusta.craigslist.org' },
    'Austin' => { short: 'aus', url: 'http://austin.craigslist.org' },
    'Bacolod' => { short: 'bcd', url: 'http://bacolod.craigslist.com.ph' },
    'Baja California Sur' => { short: 'bcs', url: 'http://bajasur.craigslist.com.mx' },
    'Bakersfield' => { short: 'bak', url: 'http://bakersfield.craigslist.org' },
    'Baleares' => { short: 'ibz', url: 'http://baleares.craigslist.es' },
    'Baltimore' => { short: 'bal', url: 'http://baltimore.craigslist.org' },
    'Bangalore' => { short: 'bng', url: 'http://bangalore.craigslist.co.in' },
    'Bangladesh' => { short: 'bgl', url: 'http://bangladesh.craigslist.org' },
    'Barcelona' => { short: 'bar', url: 'http://barcelona.craigslist.es' },
    'Barrie' => { short: 'brr', url: 'http://barrie.craigslist.ca' },
    'Basel' => { short: 'bsl', url: 'http://basel.craigslist.ch' },
    'Bath' => { short: 'bth', url: 'http://bath.craigslist.co.uk' },
    'Baton Rouge' => { short: 'btr', url: 'http://batonrouge.craigslist.org' },
    'Battle Creek' => { short: 'btc', url: 'http://battlecreek.craigslist.org' },
    'Beaumont / Port Arthur' => { short: 'bpt', url: 'http://beaumont.craigslist.org' },
    'Beijing' => { short: 'pek', url: 'http://beijing.craigslist.com.cn' },
    'Beirut, Lebanon' => { short: 'bey', url: 'http://beirut.craigslist.org' },
    'Belfast' => { short: 'blf', url: 'http://belfast.craigslist.co.uk' },
    'Belgium' => { short: 'bru', url: 'http://brussels.craigslist.org' },
    'Belleville' => { short: 'bel', url: 'http://belleville.craigslist.ca' },
    'Bellingham' => { short: 'bli', url: 'http://bellingham.craigslist.org' },
    'Belo Horizonte' => { short: 'cnf', url: 'http://belohorizonte.craigslist.org' },
    'Bemidji' => { short: 'bji', url: 'http://bemidji.craigslist.org' },
    'Bend' => { short: 'bnd', url: 'http://bend.craigslist.org' },
    'Berlin' => { short: 'ber', url: 'http://berlin.craigslist.de' },
    'Bern' => { short: 'brn', url: 'http://bern.craigslist.ch' },
    'Bhubaneswar' => { short: 'bbi', url: 'http://bhubaneswar.craigslist.co.in' },
    'Bicol Region' => { short: 'wnp', url: 'http://naga.craigslist.com.ph' },
    'Bilbao' => { short: 'bio', url: 'http://bilbao.craigslist.es' },
    'Billings' => { short: 'bil', url: 'http://billings.craigslist.org' },
    'Binghamton' => { short: 'bgm', url: 'http://binghamton.craigslist.org' },
    'Birmingham / West Mids' => { short: 'bhx', url: 'http://birmingham.craigslist.co.uk' },
    'Birmingham' => { short: 'bhm', url: 'http://bham.craigslist.org' },
    'Bismarck' => { short: 'bis', url: 'http://bismarck.craigslist.org' },
    'Bloomington' => { short: 'bmg', url: 'http://bloomington.craigslist.org' },
    'Bloomington-Normal' => { short: 'bln', url: 'http://bn.craigslist.org' },
    'Boise' => { short: 'boi', url: 'http://boise.craigslist.org' },
    'Bolivia' => { short: 'lpb', url: 'http://lapaz.craigslist.org' },
    'Bologna' => { short: 'blg', url: 'http://bologna.craigslist.it' },
    'Boone' => { short: 'bnc', url: 'http://boone.craigslist.org' },
    'Bordeaux' => { short: 'bod', url: 'http://bordeaux.craigslist.org' },
    'Boston' => { short: 'bos', url: 'http://boston.craigslist.org' },
    'Boulder' => { short: 'bou', url: 'http://boulder.craigslist.org' },
    'Bowling Green' => { short: 'blg', url: 'http://bgky.craigslist.org' },
    'Bozeman' => { short: 'bzn', url: 'http://bozeman.craigslist.org' },
    'Brainerd' => { short: 'brd', url: 'http://brainerd.craigslist.org' },
    'Brantford-Woodstock' => { short: 'bfd', url: 'http://brantford.craigslist.ca' },
    'Brasilia' => { short: 'bsb', url: 'http://brasilia.craigslist.org' },
    'Bremen' => { short: 'brm', url: 'http://bremen.craigslist.de' },
    'Brighton' => { short: 'bri', url: 'http://brighton.craigslist.co.uk' },
    'Brisbane' => { short: 'bne', url: 'http://brisbane.craigslist.com.au' },
    'Bristol' => { short: 'brs', url: 'http://bristol.craigslist.co.uk' },
    'Brittany' => { short: 'rns', url: 'http://rennes.craigslist.org' },
    'Brownsville' => { short: 'bro', url: 'http://brownsville.craigslist.org' },
    'Brunswick' => { short: 'bwk', url: 'http://brunswick.craigslist.org' },
    'Budapest' => { short: 'bud', url: 'http://budapest.craigslist.org' },
    'Buenos Aires' => { short: 'bue', url: 'http://buenosaires.craigslist.org' },
    'Buffalo' => { short: 'buf', url: 'http://buffalo.craigslist.org' },
    'Bulgaria' => { short: 'sof', url: 'http://bulgaria.craigslist.org' },
    'Butte' => { short: 'btm', url: 'http://butte.craigslist.org' },
    'Cadiz' => { short: 'cdz', url: 'http://cadiz.craigslist.es' },
    'Cagayan de Oro' => { short: 'cdo', url: 'http://cdo.craigslist.com.ph' },
    'Cairns' => { short: 'cns', url: 'http://cairns.craigslist.com.au' },
    'Calgary' => { short: 'clg', url: 'http://calgary.craigslist.ca' },
    'Cambridge, UK' => { short: 'cam', url: 'http://cambridge.craigslist.co.uk' },
    'Canarias' => { short: 'tfn', url: 'http://canarias.craigslist.es' },
    'Canberra' => { short: 'cbr', url: 'http://canberra.craigslist.com.au' },
    'Cape Cod / Islands' => { short: 'cap', url: 'http://capecod.craigslist.org' },
    'Cape Town' => { short: 'cpt', url: 'http://capetown.craigslist.co.za' },
    'Cardiff / Wales' => { short: 'cym', url: 'http://cardiff.craigslist.co.uk' },
    'Caribbean Islands' => { short: 'crb', url: 'http://caribbean.craigslist.org' },
    'Cariboo' => { short: 'cbo', url: 'http://cariboo.craigslist.ca' },
    'Catskills' => { short: 'cat', url: 'http://catskills.craigslist.org' },
    'Cebu' => { short: 'ceb', url: 'http://cebu.craigslist.com.ph' },
    'Cedar Rapids' => { short: 'ced', url: 'http://cedarrapids.craigslist.org' },
    'Central Louisiana' => { short: 'aex', url: 'http://cenla.craigslist.org' },
    'Central Michigan' => { short: 'cmu', url: 'http://centralmich.craigslist.org' },
    'Central NJ' => { short: 'cnj', url: 'http://cnj.craigslist.org' },
    'Champaign Urbana' => { short: 'chm', url: 'http://chambana.craigslist.org' },
    'Chandigarh' => { short: 'ixc', url: 'http://chandigarh.craigslist.co.in' },
    'Charleston' => { short: 'chs', url: 'http://charleston.craigslist.org' },
    'Charleston' => { short: 'crw', url: 'http://charlestonwv.craigslist.org' },
    'Charlotte' => { short: 'cha', url: 'http://charlotte.craigslist.org' },
    'Charlottesville' => { short: 'uva', url: 'http://charlottesville.craigslist.org' },
    'Chatham-Kent' => { short: 'chk', url: 'http://chatham.craigslist.ca' },
    'Chattanooga' => { short: 'cht', url: 'http://chattanooga.craigslist.org' },
    'Chautauqua' => { short: 'chq', url: 'http://chautauqua.craigslist.org' },
    'Chengdu' => { short: 'ctu', url: 'http://chengdu.craigslist.com.cn' },
    'Chennai (Madras)' => { short: 'che', url: 'http://chennai.craigslist.co.in' },
    'Chicago' => { short: 'chi', url: 'http://chicago.craigslist.org' },
    'Chico' => { short: 'chc', url: 'http://chico.craigslist.org' },
    'Chihuahua' => { short: 'chh', url: 'http://chihuahua.craigslist.com.mx' },
    'Chile' => { short: 'scl', url: 'http://santiago.craigslist.org' },
    'Chillicothe' => { short: 'chl', url: 'http://chillicothe.craigslist.org' },
    'Chongqing' => { short: 'ckg', url: 'http://chongqing.craigslist.com.cn' },
    'Christchurch' => { short: 'chr', url: 'http://christchurch.craigslist.org' },
    'Cincinnati' => { short: 'cin', url: 'http://cincinnati.craigslist.org' },
    'Ciudad Juarez' => { short: 'cjs', url: 'http://juarez.craigslist.com.mx' },
    'Clarksville' => { short: 'ckv', url: 'http://clarksville.craigslist.org' },
    'Cleveland' => { short: 'cle', url: 'http://cleveland.craigslist.org' },
    'Clovis / Portales' => { short: 'cvn', url: 'http://clovis.craigslist.org' },
    'College Station' => { short: 'cst', url: 'http://collegestation.craigslist.org' },
    'Cologne' => { short: 'cgn', url: 'http://cologne.craigslist.de' },
    'Colombia' => { short: 'bog', url: 'http://colombia.craigslist.org' },
    'Colorado Springs' => { short: 'cos', url: 'http://cosprings.craigslist.org' },
    'Columbia / Jeff City' => { short: 'cou', url: 'http://columbiamo.craigslist.org' },
    'Columbia' => { short: 'cae', url: 'http://columbia.craigslist.org' },
    'Columbus' => { short: 'col', url: 'http://columbus.craigslist.org' },
    'Columbus' => { short: 'csg', url: 'http://columbusga.craigslist.org' },
    'Comox Valley' => { short: 'cmx', url: 'http://comoxvalley.craigslist.ca' },
    'Cookeville' => { short: 'coo', url: 'http://cookeville.craigslist.org' },
    'Copenhagen' => { short: 'cop', url: 'http://copenhagen.craigslist.org' },
    'Corpus Christi' => { short: 'crp', url: 'http://corpuschristi.craigslist.org' },
    'Corvallis/Albany' => { short: 'crv', url: 'http://corvallis.craigslist.org' },
    'Costa Rica' => { short: 'cri', url: 'http://costarica.craigslist.org' },
    'Coventry' => { short: 'cov', url: 'http://coventry.craigslist.co.uk' },
    'Croatia' => { short: 'zag', url: 'http://zagreb.craigslist.org' },
    'Cumberland Valley' => { short: 'cbg', url: 'http://chambersburg.craigslist.org' },
    'Curitiba' => { short: 'cwb', url: 'http://curitiba.craigslist.org' },
    'Dalian' => { short: 'dlc', url: 'http://dalian.craigslist.com.cn' },
    'Dallas / Fort Worth' => { short: 'dal', url: 'http://dallas.craigslist.org' },
    'Danville' => { short: 'dnv', url: 'http://danville.craigslist.org' },
    'Darwin' => { short: 'drw', url: 'http://darwin.craigslist.com.au' },
    'Davao City' => { short: 'dvo', url: 'http://davaocity.craigslist.com.ph' },
    'Dayton / Springfield' => { short: 'day', url: 'http://dayton.craigslist.org' },
    'Daytona Beach' => { short: 'dab', url: 'http://daytona.craigslist.org' },
    'Decatur' => { short: 'dil', url: 'http://decatur.craigslist.org' },
    'Deep East Texas' => { short: 'och', url: 'http://nacogdoches.craigslist.org' },
    'Del Rio / Eagle Pass' => { short: 'drt', url: 'http://delrio.craigslist.org' },
    'Delaware' => { short: 'dlw', url: 'http://delaware.craigslist.org' },
    'Delhi' => { short: 'del', url: 'http://delhi.craigslist.co.in' },
    'Denver' => { short: 'den', url: 'http://denver.craigslist.org' },
    'Derby' => { short: 'dby', url: 'http://derby.craigslist.co.uk' },
    'Des Moines' => { short: 'dsm', url: 'http://desmoines.craigslist.org' },
    'Detroit Metro' => { short: 'det', url: 'http://detroit.craigslist.org' },
    'Devon & Cornwall' => { short: 'dvc', url: 'http://devon.craigslist.co.uk' },
    'Dominican Republic' => { short: 'sdq', url: 'http://santodomingo.craigslist.org' },
    'Dothan' => { short: 'dhn', url: 'http://dothan.craigslist.org' },
    'Dresden' => { short: 'drs', url: 'http://dresden.craigslist.de' },
    'Dublin' => { short: 'dub', url: 'http://dublin.craigslist.org' },
    'Dubuque' => { short: 'dbq', url: 'http://dubuque.craigslist.org' },
    'Duluth / Superior' => { short: 'dlh', url: 'http://duluth.craigslist.org' },
    'Dundee' => { short: 'dnd', url: 'http://dundee.craigslist.co.uk' },
    'Dunedin' => { short: 'dud', url: 'http://dunedin.craigslist.co.nz' },
    'Durban' => { short: 'dur', url: 'http://durban.craigslist.co.za' },
    'Dusseldorf' => { short: 'dus', url: 'http://dusseldorf.craigslist.de' },
    'East Anglia' => { short: 'nwh', url: 'http://norwich.craigslist.co.uk' },
    'East Idaho' => { short: 'eid', url: 'http://eastidaho.craigslist.org' },
    'East Midlands' => { short: 'eml', url: 'http://eastmids.craigslist.co.uk' },
    'East Oregon' => { short: 'eor', url: 'http://eastoregon.craigslist.org' },
    'Eastern CO' => { short: 'eco', url: 'http://eastco.craigslist.org' },
    'Eastern CT' => { short: 'nlo', url: 'http://newlondon.craigslist.org' },
    'Eastern Kentucky' => { short: 'eky', url: 'http://eastky.craigslist.org' },
    'Eastern NC' => { short: 'enc', url: 'http://eastnc.craigslist.org' },
    'Eastern Panhandle' => { short: 'ewv', url: 'http://martinsburg.craigslist.org' },
    'Eastern Shore' => { short: 'esh', url: 'http://easternshore.craigslist.org' },
    'Eau Claire' => { short: 'eau', url: 'http://eauclaire.craigslist.org' },
    'Ecuador' => { short: 'qui', url: 'http://quito.craigslist.org' },
    'Edinburgh' => { short: 'edi', url: 'http://edinburgh.craigslist.co.uk' },
    'Edmonton' => { short: 'edm', url: 'http://edmonton.craigslist.ca' },
    'Egypt' => { short: 'cai', url: 'http://cairo.craigslist.org' },
    'El Paso' => { short: 'elp', url: 'http://elpaso.craigslist.org' },
    'El Salvador' => { short: 'sal', url: 'http://elsalvador.craigslist.org' },
    'Elko' => { short: 'elk', url: 'http://elko.craigslist.org' },
    'Elmira-Corning' => { short: 'elm', url: 'http://elmira.craigslist.org' },
    'Erie' => { short: 'eri', url: 'http://erie.craigslist.org' },
    'Essen / Ruhr' => { short: 'ess', url: 'http://essen.craigslist.de' },
    'Essex' => { short: 'esx', url: 'http://essex.craigslist.co.uk' },
    'Ethiopia' => { short: 'add', url: 'http://addisababa.craigslist.org' },
    'Eugene' => { short: 'eug', url: 'http://eugene.craigslist.org' },
    'Evansville' => { short: 'ew', url: 'http://evansville.craigslist.org' },
    'Fairbanks' => { short: 'fai', url: 'http://fairbanks.craigslist.org' },
    'Fargo / Moorhead' => { short: 'far', url: 'http://fargo.craigslist.org' },
    'Farmington' => { short: 'fnm', url: 'http://farmington.craigslist.org' },
    'Faro / Algarve' => { short: 'fro', url: 'http://faro.craigslist.pt' },
    'Fayetteville' => { short: 'fay', url: 'http://fayetteville.craigslist.org' },
    'Fayetteville' => { short: 'fyv', url: 'http://fayar.craigslist.org' },
    'Finger Lakes' => { short: 'fgl', url: 'http://fingerlakes.craigslist.org' },
    'Finland' => { short: 'hel', url: 'http://helsinki.craigslist.fi' },
    'Flagstaff / Sedona' => { short: 'flg', url: 'http://flagstaff.craigslist.org' },
    'Flint' => { short: 'fnt', url: 'http://flint.craigslist.org' },
    'Florence / Muscle Shoals' => { short: 'msl', url: 'http://shoals.craigslist.org' },
    'Florence / Tuscany' => { short: 'flr', url: 'http://florence.craigslist.it' },
    'Florence' => { short: 'flo', url: 'http://florencesc.craigslist.org' },
    'Florida Keys' => { short: 'key', url: 'http://keys.craigslist.org' },
    'Fort Collins / North CO' => { short: 'ftc', url: 'http://fortcollins.craigslist.org' },
    'Fort Dodge' => { short: 'ftd', url: 'http://fortdodge.craigslist.org' },
    'Fort Lauderdale' => { short: 'mia', url: 'http://fortlauderdale.craigslist.org' },
    'Fort Smith' => { short: 'fsm', url: 'http://fortsmith.craigslist.org' },
    'Fort Wayne' => { short: 'fwa', url: 'http://fortwayne.craigslist.org' },
    'Fortaleza' => { short: 'ftl', url: 'http://fortaleza.craigslist.org' },
    'Frankfurt' => { short: 'fra', url: 'http://frankfurt.craigslist.de' },
    'Fraser Valley' => { short: 'abb', url: 'http://abbotsford.craigslist.ca' },
    'Frederick' => { short: 'fdk', url: 'http://frederick.craigslist.org' },
    'Fredericksburg' => { short: 'ezf', url: 'http://fredericksburg.craigslist.org' },
    'Fresno / Madera' => { short: 'fre', url: 'http://fresno.craigslist.org' },
    'Ft mcmurray' => { short: 'fmc', url: 'http://ftmcmurray.craigslist.ca' },
    'Ft myers / SW Florida' => { short: 'fmy', url: 'http://fortmyers.craigslist.org' },
    'Fukuoka' => { short: 'fuk', url: 'http://fukuoka.craigslist.jp' },
    'Gadsden-Anniston' => { short: 'anb', url: 'http://gadsden.craigslist.org' },
    'Gainesville' => { short: 'gnv', url: 'http://gainesville.craigslist.org' },
    'Galveston' => { short: 'gls', url: 'http://galveston.craigslist.org' },
    'Geneva' => { short: 'gva', url: 'http://geneva.craigslist.ch' },
    'Genoa' => { short: 'gen', url: 'http://genoa.craigslist.it' },
    'Ghana' => { short: 'acc', url: 'http://accra.craigslist.org' },
    'Glasgow' => { short: 'gla', url: 'http://glasgow.craigslist.co.uk' },
    'Glens Falls' => { short: 'gfl', url: 'http://glensfalls.craigslist.org' },
    'Goa' => { short: 'goa', url: 'http://goa.craigslist.co.in' },
    'Gold Coast' => { short: 'ool', url: 'http://goldcoast.craigslist.com.au' },
    'Gold Country' => { short: 'gld', url: 'http://goldcountry.craigslist.org' },
    'Granada' => { short: 'grx', url: 'http://granada.craigslist.es' },
    'Grand Forks' => { short: 'gfk', url: 'http://grandforks.craigslist.org' },
    'Grand Island' => { short: 'gil', url: 'http://grandisland.craigslist.org' },
    'Grand Rapids' => { short: 'grr', url: 'http://grandrapids.craigslist.org' },
    'Great Falls' => { short: 'gtf', url: 'http://greatfalls.craigslist.org' },
    'Greece' => { short: 'ath', url: 'http://athens.craigslist.gr' },
    'Green Bay' => { short: 'grb', url: 'http://greenbay.craigslist.org' },
    'Greensboro' => { short: 'gbo', url: 'http://greensboro.craigslist.org' },
    'Greenville / Upstate' => { short: 'gsp', url: 'http://greenville.craigslist.org' },
    'Grenoble' => { short: 'gnb', url: 'http://grenoble.craigslist.org' },
    'Guadalajara' => { short: 'gdl', url: 'http://guadalajara.craigslist.com.mx' },
    'Guam-Micronesia' => { short: 'gum', url: 'http://micronesia.craigslist.org' },
    'Guanajuato' => { short: 'bjx', url: 'http://guanajuato.craigslist.com.mx' },
    'Guangzhou' => { short: 'can', url: 'http://guangzhou.craigslist.com.cn' },
    'Guatemala' => { short: 'gua', url: 'http://guatemala.craigslist.org' },
    'Guelph' => { short: 'gph', url: 'http://guelph.craigslist.ca' },
    'Gulfport / Biloxi' => { short: 'gpt', url: 'http://gulfport.craigslist.org' },
    'Haifa' => { short: 'hfa', url: 'http://haifa.craigslist.org' },
    'Halifax' => { short: 'hfx', url: 'http://halifax.craigslist.ca' },
    'Hamburg' => { short: 'ham', url: 'http://hamburg.craigslist.de' },
    'Hamilton-Burlington' => { short: 'hml', url: 'http://hamilton.craigslist.ca' },
    'Hampshire' => { short: 'sou', url: 'http://hampshire.craigslist.co.uk' },
    'Hampton Roads' => { short: 'nfk', url: 'http://norfolk.craigslist.org' },
    'Hanford-Corcoran' => { short: 'hnf', url: 'http://hanford.craigslist.org' },
    'Hangzhou' => { short: 'hgh', url: 'http://hangzhou.craigslist.com.cn' },
    'Hannover' => { short: 'haj', url: 'http://hannover.craigslist.de' },
    'Harrisburg' => { short: 'hrs', url: 'http://harrisburg.craigslist.org' },
    'Harrisonburg' => { short: 'shd', url: 'http://harrisonburg.craigslist.org' },
    'Hartford' => { short: 'htf', url: 'http://hartford.craigslist.org' },
    'Hattiesburg' => { short: 'usm', url: 'http://hattiesburg.craigslist.org' },
    'Hawaii' => { short: 'hnl', url: 'http://honolulu.craigslist.org' },
    'Heartland Florida' => { short: 'cfl', url: 'http://cfl.craigslist.org' },
    'Heidelberg' => { short: 'hdb', url: 'http://heidelberg.craigslist.de' },
    'Helena' => { short: 'hln', url: 'http://helena.craigslist.org' },
    'Hermosillo' => { short: 'hrm', url: 'http://hermosillo.craigslist.com.mx' },
    'Hickory / Lenoir' => { short: 'hky', url: 'http://hickory.craigslist.org' },
    'High Rockies' => { short: 'rck', url: 'http://rockies.craigslist.org' },
    'Hilton head' => { short: 'hhi', url: 'http://hiltonhead.craigslist.org' },
    'Hiroshima' => { short: 'hij', url: 'http://hiroshima.craigslist.jp' },
    'Holland' => { short: 'hld', url: 'http://holland.craigslist.org' },
    'Hong Kong' => { short: 'hkz', url: 'http://hongkong.craigslist.hk' },
    'Houma' => { short: 'hum', url: 'http://houma.craigslist.org' },
    'Houston' => { short: 'hou', url: 'http://houston.craigslist.org' },
    'Hudson Valley' => { short: 'hud', url: 'http://hudsonvalley.craigslist.org' },
    'Humboldt County' => { short: 'hmb', url: 'http://humboldt.craigslist.org' },
    'Huntington-Ashland' => { short: 'hts', url: 'http://huntington.craigslist.org' },
    'Huntsville / Decatur' => { short: 'hsv', url: 'http://huntsville.craigslist.org' },
    'Hyderabad' => { short: 'hyd', url: 'http://hyderabad.craigslist.co.in' },
    'Iloilo' => { short: 'ilo', url: 'http://iloilo.craigslist.com.ph' },
    'Imperial County' => { short: 'imp', url: 'http://imperial.craigslist.org' },
    'Indianapolis' => { short: 'ind', url: 'http://indianapolis.craigslist.org' },
    'Indonesia' => { short: 'jkt', url: 'http://jakarta.craigslist.org' },
    'Indore' => { short: 'idr', url: 'http://indore.craigslist.co.in' },
    'Inland Empire' => { short: 'inl', url: 'http://inlandempire.craigslist.org' },
    'Iowa City' => { short: 'iac', url: 'http://iowacity.craigslist.org' },
    'Iran' => { short: 'trh', url: 'http://tehran.craigslist.org' },
    'Iraq' => { short: 'bgd', url: 'http://baghdad.craigslist.org' },
    'Ithaca' => { short: 'ith', url: 'http://ithaca.craigslist.org' },
    'Jackson ' => { short: 'jxt', url: 'http://jacksontn.craigslist.org' },
    'Jackson' => { short: 'jan', url: 'http://jackson.craigslist.org' },
    'Jackson' => { short: 'jxn', url: 'http://jxn.craigslist.org' },
    'Jacksonville' => { short: 'jax', url: 'http://jacksonville.craigslist.org' },
    'Jacksonville' => { short: 'oaj', url: 'http://onslow.craigslist.org' },
    'Jaipur' => { short: 'jai', url: 'http://jaipur.craigslist.co.in' },
    'Janesville' => { short: 'jvl', url: 'http://janesville.craigslist.org' },
    'Jersey Shore' => { short: 'jys', url: 'http://jerseyshore.craigslist.org' },
    'Jerusalem' => { short: 'jrs', url: 'http://jerusalem.craigslist.org' },
    'Johannesburg' => { short: 'jnb', url: 'http://johannesburg.craigslist.co.za' },
    'Jonesboro' => { short: 'jbr', url: 'http://jonesboro.craigslist.org' },
    'Joplin' => { short: 'jln', url: 'http://joplin.craigslist.org' },
    'Kaiserslautern' => { short: 'klt', url: 'http://kaiserslautern.craigslist.de' },
    'Kalamazoo' => { short: 'kzo', url: 'http://kalamazoo.craigslist.org' },
    'Kalispell' => { short: 'fca', url: 'http://kalispell.craigslist.org' },
    'Kamloops' => { short: 'kml', url: 'http://kamloops.craigslist.ca' },
    'Kansas City' => { short: 'ksc', url: 'http://kansascity.craigslist.org' },
    'Kelowna / Okanagan' => { short: 'kel', url: 'http://kelowna.craigslist.ca' },
    'Kenai Peninsula' => { short: 'ena', url: 'http://kenai.craigslist.org' },
    'Kennewick-Pasco-Richland' => { short: 'kpr', url: 'http://kpr.craigslist.org' },
    'Kenosha-Racine' => { short: 'rac', url: 'http://racine.craigslist.org' },
    'Kent' => { short: 'ken', url: 'http://kent.craigslist.co.uk' },
    'Kenya' => { short: 'nbo', url: 'http://kenya.craigslist.org' },
    'Kerala' => { short: 'cok', url: 'http://kerala.craigslist.co.in' },
    'Killeen / Temple / Ft Hood' => { short: 'grk', url: 'http://killeen.craigslist.org' },
    'Kingston' => { short: 'kng', url: 'http://kingston.craigslist.ca' },
    'Kirksville' => { short: 'krk', url: 'http://kirksville.craigslist.org' },
    'Kitchener-Waterloo-Cambridge' => { short: 'kch', url: 'http://kitchener.craigslist.ca' },
    'Klamath Falls' => { short: 'klf', url: 'http://klamath.craigslist.org' },
    'Knoxville' => { short: 'knx', url: 'http://knoxville.craigslist.org' },
    'Kokomo' => { short: 'okk', url: 'http://kokomo.craigslist.org' },
    'Kolkata (Calcutta)' => { short: 'kol', url: 'http://kolkata.craigslist.co.in' },
    'Kootenays' => { short: 'koo', url: 'http://cranbrook.craigslist.ca' },
    'Kuwait' => { short: 'kwi', url: 'http://kuwait.craigslist.org' },
    'La Crosse' => { short: 'lse', url: 'http://lacrosse.craigslist.org' },
    'La Salle CO' => { short: 'lsl', url: 'http://lasalle.craigslist.org' },
    'Lafayette / West Lafayette' => { short: 'laf', url: 'http://tippecanoe.craigslist.org' },
    'Lafayette' => { short: 'lft', url: 'http://lafayette.craigslist.org' },
    'Lake Charles' => { short: 'lkc', url: 'http://lakecharles.craigslist.org' },
    'Lake of the Ozarks' => { short: 'loz', url: 'http://loz.craigslist.org' },
    'Lakeland' => { short: 'lal', url: 'http://lakeland.craigslist.org' },
    'Lancaster' => { short: 'lns', url: 'http://lancaster.craigslist.org' },
    'Lansing' => { short: 'lan', url: 'http://lansing.craigslist.org' },
    'Laredo' => { short: 'lrd', url: 'http://laredo.craigslist.org' },
    'Las Cruces' => { short: 'lcr', url: 'http://lascruces.craigslist.org' },
    'Las Vegas' => { short: 'lvg', url: 'http://lasvegas.craigslist.org' },
    'Lausanne' => { short: 'lau', url: 'http://lausanne.craigslist.ch' },
    'Lawrence' => { short: 'lwr', url: 'http://lawrence.craigslist.org' },
    'Lawton' => { short: 'law', url: 'http://lawton.craigslist.org' },
    'Leeds' => { short: 'lds', url: 'http://leeds.craigslist.co.uk' },
    'Lehigh Valley' => { short: 'alt', url: 'http://allentown.craigslist.org' },
    'Leipzig' => { short: 'lej', url: 'http://leipzig.craigslist.de' },
    'Lethbridge' => { short: 'lth', url: 'http://lethbridge.craigslist.ca' },
    'Lewiston / Clarkston' => { short: 'lws', url: 'http://lewiston.craigslist.org' },
    'Lexington' => { short: 'lex', url: 'http://lexington.craigslist.org' },
    'Lille' => { short: 'lil', url: 'http://lille.craigslist.org' },
    'Lima / Findlay' => { short: 'lma', url: 'http://limaohio.craigslist.org' },
    'Lincoln' => { short: 'lnk', url: 'http://lincoln.craigslist.org' },
    'Lisbon' => { short: 'lis', url: 'http://lisbon.craigslist.pt' },
    'Little Rock' => { short: 'lit', url: 'http://littlerock.craigslist.org' },
    'Liverpool' => { short: 'liv', url: 'http://liverpool.craigslist.co.uk' },
    'Logan' => { short: 'lgu', url: 'http://logan.craigslist.org' },
    'Loire Valley' => { short: 'nte', url: 'http://loire.craigslist.org' },
    'London' => { short: 'ldn', url: 'http://london.craigslist.co.uk' },
    'London' => { short: 'lon', url: 'http://londonon.craigslist.ca' },
    'Long Island' => { short: 'isp', url: 'http://longisland.craigslist.org' },
    'Los Angeles' => { short: 'lax', url: 'http://losangeles.craigslist.org' },
    'Louisville' => { short: 'lou', url: 'http://louisville.craigslist.org' },
    'Lubbock' => { short: 'lbb', url: 'http://lubbock.craigslist.org' },
    'Lucknow' => { short: 'lko', url: 'http://lucknow.craigslist.co.in' },
    'Luxembourg' => { short: 'lux', url: 'http://luxembourg.craigslist.org' },
    'Lynchburg' => { short: 'lyn', url: 'http://lynchburg.craigslist.org' },
    'Lyon' => { short: 'lys', url: 'http://lyon.craigslist.org' },
    'Macon / Warner Robins' => { short: 'mcn', url: 'http://macon.craigslist.org' },
    'Madison' => { short: 'mad', url: 'http://madison.craigslist.org' },
    'Madrid' => { short: 'mdd', url: 'http://madrid.craigslist.es' },
    'Maine' => { short: 'mne', url: 'http://maine.craigslist.org' },
    'Malaga' => { short: 'agp', url: 'http://malaga.craigslist.es' },
    'Malaysia' => { short: 'mly', url: 'http://malaysia.craigslist.org' },
    'Manchester' => { short: 'man', url: 'http://manchester.craigslist.co.uk' },
    'Manhattan' => { short: 'mhk', url: 'http://ksu.craigslist.org' },
    'Manila' => { short: 'mnl', url: 'http://manila.craigslist.com.ph' },
    'Mankato' => { short: 'mkt', url: 'http://mankato.craigslist.org' },
    'Mansfield' => { short: 'mfd', url: 'http://mansfield.craigslist.org' },
    'Marseille' => { short: 'mrs', url: 'http://marseilles.craigslist.org' },
    'Mason city' => { short: 'msc', url: 'http://masoncity.craigslist.org' },
    'Mattoon-Charleston' => { short: 'mto', url: 'http://mattoon.craigslist.org' },
    'Mazatlan' => { short: 'mzt', url: 'http://mazatlan.craigslist.com.mx' },
    'Mcallen / Edinburg' => { short: 'mca', url: 'http://mcallen.craigslist.org' },
    'Meadville' => { short: 'mdv', url: 'http://meadville.craigslist.org' },
    'Medford-Ashland' => { short: 'mfr', url: 'http://medford.craigslist.org' },
    'Medicine Hat' => { short: 'hat', url: 'http://hat.craigslist.ca' },
    'Melbourne' => { short: 'mel', url: 'http://melbourne.craigslist.com.au' },
    'Memphis' => { short: 'mem', url: 'http://memphis.craigslist.org' },
    'Mendocino County' => { short: 'mdo', url: 'http://mendocino.craigslist.org' },
    'Merced' => { short: 'mer', url: 'http://merced.craigslist.org' },
    'Meridian' => { short: 'mei', url: 'http://meridian.craigslist.org' },
    'Mexico City' => { short: 'mex', url: 'http://mexicocity.craigslist.com.mx' },
    'Milan' => { short: 'mxp', url: 'http://milan.craigslist.it' },
    'Milwaukee' => { short: 'mil', url: 'http://milwaukee.craigslist.org' },
    'Minneapolis / St Paul' => { short: 'min', url: 'http://minneapolis.craigslist.org' },
    'Missoula' => { short: 'mso', url: 'http://missoula.craigslist.org' },
    'Mobile' => { short: 'mob', url: 'http://mobile.craigslist.org' },
    'Modesto' => { short: 'mod', url: 'http://modesto.craigslist.org' },
    'Mohave County' => { short: 'mhv', url: 'http://mohave.craigslist.org' },
    'Monroe' => { short: 'mlu', url: 'http://monroemi.craigslist.org' },
    'Monroe' => { short: 'mnr', url: 'http://monroe.craigslist.org' },
    'Montana (Old)' => { short: 'mnt', url: 'http://montana.craigslist.org' },
    'Monterey Bay' => { short: 'mtb', url: 'http://monterey.craigslist.org' },
    'Monterrey' => { short: 'mty', url: 'http://monterrey.craigslist.com.mx' },
    'Montevideo' => { short: 'mvd', url: 'http://montevideo.craigslist.org' },
    'Montgomery' => { short: 'mgm', url: 'http://montgomery.craigslist.org' },
    'Montpellier' => { short: 'mpl', url: 'http://montpellier.craigslist.org' },
    'Montreal' => { short: 'mon', url: 'http://montreal.craigslist.ca' },
    'Morgantown' => { short: 'wvu', url: 'http://morgantown.craigslist.org' },
    'Morocco' => { short: 'cas', url: 'http://casablanca.craigslist.org' },
    'Moscow' => { short: 'mos', url: 'http://moscow.craigslist.org' },
    'Moses Lake' => { short: 'mlk', url: 'http://moseslake.craigslist.org' },
    'Mumbai' => { short: 'mum', url: 'http://mumbai.craigslist.co.in' },
    'Muncie / Anderson' => { short: 'mun', url: 'http://muncie.craigslist.org' },
    'Munich' => { short: 'muc', url: 'http://munich.craigslist.de' },
    'Muskegon' => { short: 'mkg', url: 'http://muskegon.craigslist.org' },
    'Myrtle Beach' => { short: 'myr', url: 'http://myrtlebeach.craigslist.org' },
    'Nagoya' => { short: 'ngo', url: 'http://nagoya.craigslist.jp' },
    'Nanaimo' => { short: 'nmo', url: 'http://nanaimo.craigslist.ca' },
    'Nanjing' => { short: 'nkg', url: 'http://nanjing.craigslist.com.cn' },
    'Napoli / Campania' => { short: 'nap', url: 'http://naples.craigslist.it' },
    'Nashville' => { short: 'nsh', url: 'http://nashville.craigslist.org' },
    'New Brunswick' => { short: 'nbw', url: 'http://newbrunswick.craigslist.ca' },
    'New Hampshire' => { short: 'nhm', url: 'http://nh.craigslist.org' },
    'New Haven' => { short: 'hvn', url: 'http://newhaven.craigslist.org' },
    'New Orleans' => { short: 'nor', url: 'http://neworleans.craigslist.org' },
    'New River Valley' => { short: 'vpi', url: 'http://blacksburg.craigslist.org' },
    'New York City' => { short: 'nyc', url: 'http://newyork.craigslist.org' },
    'Newcastle / NE England' => { short: 'ncl', url: 'http://newcastle.craigslist.co.uk' },
    'Newcastle, NSW' => { short: 'ntl', url: 'http://ntl.craigslist.com.au' },
    'Niagara Region' => { short: 'nsc', url: 'http://niagara.craigslist.ca' },
    'Nicaragua' => { short: 'mga', url: 'http://managua.craigslist.org' },
    'Nice / Cote d\'Azur' => { short: 'nce', url: 'http://cotedazur.craigslist.org' },
    'Normandy' => { short: 'rou', url: 'http://rouen.craigslist.org' },
    'North Central FL' => { short: 'lcq', url: 'http://lakecity.craigslist.org' },
    'North Dakota' => { short: 'ndk', url: 'http://nd.craigslist.org' },
    'North Jersey' => { short: 'njy', url: 'http://newjersey.craigslist.org' },
    'North Mississippi' => { short: 'nms', url: 'http://northmiss.craigslist.org' },
    'North Platte' => { short: 'lbf', url: 'http://northplatte.craigslist.org' },
    'Northeast SD' => { short: 'abr', url: 'http://nesd.craigslist.org' },
    'Northern Michigan' => { short: 'nmi', url: 'http://nmi.craigslist.org' },
    'Northern Panhandle' => { short: 'whl', url: 'http://wheeling.craigslist.org' },
    'Northern WI' => { short: 'nwi', url: 'http://northernwi.craigslist.org' },
    'Northwest CT' => { short: 'nct', url: 'http://nwct.craigslist.org' },
    'Northwest GA' => { short: 'nwg', url: 'http://nwga.craigslist.org' },
    'Northwest KS' => { short: 'nwk', url: 'http://nwks.craigslist.org' },
    'Northwest OK' => { short: 'end', url: 'http://enid.craigslist.org' },
    'Norway' => { short: 'osl', url: 'http://oslo.craigslist.org' },
    'Nottingham' => { short: 'not', url: 'http://nottingham.craigslist.co.uk' },
    'Nuremberg' => { short: 'nue', url: 'http://nuremberg.craigslist.de' },
    'Oaxaca' => { short: 'oax', url: 'http://oaxaca.craigslist.com.mx' },
    'Ocala' => { short: 'oca', url: 'http://ocala.craigslist.org' },
    'Odessa / Midland' => { short: 'odm', url: 'http://odessa.craigslist.org' },
    'Ogden-Clearfield' => { short: 'ogd', url: 'http://ogden.craigslist.org' },
    'Okaloosa / Walton' => { short: 'yps', url: 'http://okaloosa.craigslist.org' },
    'Okinawa' => { short: 'oka', url: 'http://okinawa.craigslist.jp' },
    'Oklahoma City' => { short: 'okc', url: 'http://oklahomacity.craigslist.org' },
    'Olympic Peninsula' => { short: 'olp', url: 'http://olympic.craigslist.org' },
    'Omaha / Council Bluffs' => { short: 'oma', url: 'http://omaha.craigslist.org' },
    'Oneonta' => { short: 'onh', url: 'http://oneonta.craigslist.org' },
    'Orange County' => { short: 'orc', url: 'http://orangecounty.craigslist.org' },
    'Oregon Coast' => { short: 'cor', url: 'http://oregoncoast.craigslist.org' },
    'Orlando' => { short: 'orl', url: 'http://orlando.craigslist.org' },
    'Osaka-Kobe-Kyoto' => { short: 'osa', url: 'http://osaka.craigslist.jp' },
    'Ottawa-Hull-Gatineau' => { short: 'ott', url: 'http://ottawa.craigslist.ca' },
    'Outer Banks' => { short: 'obx', url: 'http://outerbanks.craigslist.org' },
    'Owen Sound' => { short: 'ows', url: 'http://owensound.craigslist.ca' },
    'Owensboro' => { short: 'owb', url: 'http://owensboro.craigslist.org' },
    'Oxford' => { short: 'ovf', url: 'http://oxford.craigslist.co.uk' },
    'Pakistan' => { short: 'pak', url: 'http://pakistan.craigslist.org' },
    'Palm Springs' => { short: 'psp', url: 'http://palmsprings.craigslist.org' },
    'Pampanga' => { short: 'crk', url: 'http://pampanga.craigslist.com.ph' },
    'Panama City' => { short: 'pfn', url: 'http://panamacity.craigslist.org' },
    'Panama' => { short: 'pan', url: 'http://panama.craigslist.org' },
    'Paris' => { short: 'par', url: 'http://paris.craigslist.org' },
    'Parkersburg-Marietta' => { short: 'pkb', url: 'http://parkersburg.craigslist.org' },
    'Peace River Country' => { short: 'pax', url: 'http://peace.craigslist.ca' },
    'Pensacola' => { short: 'pns', url: 'http://pensacola.craigslist.org' },
    'Peoria' => { short: 'pia', url: 'http://peoria.craigslist.org' },
    'Perth' => { short: 'per', url: 'http://perth.craigslist.com.au' },
    'Peru' => { short: 'lim', url: 'http://lima.craigslist.org' },
    'Perugia' => { short: 'peg', url: 'http://perugia.craigslist.it' },
    'Peterborough' => { short: 'ypq', url: 'http://peterborough.craigslist.ca' },
    'Philadelphia' => { short: 'phi', url: 'http://philadelphia.craigslist.org' },
    'Phoenix' => { short: 'phx', url: 'http://phoenix.craigslist.org' },
    'Pierre / Central SD' => { short: 'csd', url: 'http://csd.craigslist.org' },
    'Pittsburgh' => { short: 'pit', url: 'http://pittsburgh.craigslist.org' },
    'Plattsburgh-Adirondacks' => { short: 'plb', url: 'http://plattsburgh.craigslist.org' },
    'Poconos' => { short: 'poc', url: 'http://poconos.craigslist.org' },
    'Poland' => { short: 'waw', url: 'http://warsaw.craigslist.pl' },
    'Port Huron' => { short: 'phn', url: 'http://porthuron.craigslist.org' },
    'Portland' => { short: 'pdx', url: 'http://portland.craigslist.org' },
    'Porto Alegre' => { short: 'pgp', url: 'http://portoalegre.craigslist.org' },
    'Porto' => { short: 'pto', url: 'http://porto.craigslist.pt' },
    'Potsdam-Canton-Massena' => { short: 'ptd', url: 'http://potsdam.craigslist.org' },
    'Prague' => { short: 'prg', url: 'http://prague.craigslist.cz' },
    'Prescott' => { short: 'prc', url: 'http://prescott.craigslist.org' },
    'Pretoria' => { short: 'hpr', url: 'http://pretoria.craigslist.co.za' },
    'Prince Edward Island' => { short: 'pei', url: 'http://pei.craigslist.ca' },
    'Prince George' => { short: 'yxs', url: 'http://princegeorge.craigslist.ca' },
    'Provo / Orem' => { short: 'pvu', url: 'http://provo.craigslist.org' },
    'Puebla' => { short: 'pbl', url: 'http://puebla.craigslist.com.mx' },
    'Pueblo' => { short: 'pub', url: 'http://pueblo.craigslist.org' },
    'Puerto Rico' => { short: 'pri', url: 'http://puertorico.craigslist.org' },
    'Puerto Vallarta' => { short: 'pvr', url: 'http://pv.craigslist.com.mx' },
    'Pullman / Moscow' => { short: 'plm', url: 'http://pullman.craigslist.org' },
    'Pune' => { short: 'png', url: 'http://pune.craigslist.co.in' },
    'Quad Cities' => { short: 'mli', url: 'http://quadcities.craigslist.org' },
    'Quebec City' => { short: 'qbc', url: 'http://quebec.craigslist.ca' },
    'Raleigh / Durham / CH' => { short: 'ral', url: 'http://raleigh.craigslist.org' },
    'Rapid City / West SD' => { short: 'rap', url: 'http://rapidcity.craigslist.org' },
    'Reading' => { short: 'rea', url: 'http://reading.craigslist.org' },
    'Recife' => { short: 'rec', url: 'http://recife.craigslist.org' },
    'Red Deer' => { short: 'red', url: 'http://reddeer.craigslist.ca' },
    'Redding' => { short: 'rdd', url: 'http://redding.craigslist.org' },
    'Regina' => { short: 'reg', url: 'http://regina.craigslist.ca' },
    'Reno / Tahoe' => { short: 'rno', url: 'http://reno.craigslist.org' },
    'Reykjavik' => { short: 'rkv', url: 'http://reykjavik.craigslist.org' },
    'Rhode Island' => { short: 'prv', url: 'http://providence.craigslist.org' },
    'Richmond' => { short: 'ric', url: 'http://richmond.craigslist.org' },
    'Richmond' => { short: 'rin', url: 'http://richmondin.craigslist.org' },
    'Rio de Janeiro' => { short: 'rio', url: 'http://rio.craigslist.org' },
    'Roanoke' => { short: 'roa', url: 'http://roanoke.craigslist.org' },
    'Rochester' => { short: 'rcs', url: 'http://rochester.craigslist.org' },
    'Rochester' => { short: 'rmn', url: 'http://rmn.craigslist.org' },
    'Rockford' => { short: 'rfd', url: 'http://rockford.craigslist.org' },
    'Romania' => { short: 'buh', url: 'http://bucharest.craigslist.org' },
    'Rome' => { short: 'rom', url: 'http://rome.craigslist.it' },
    'Roseburg' => { short: 'rbg', url: 'http://roseburg.craigslist.org' },
    'Roswell / Carlsbad' => { short: 'row', url: 'http://roswell.craigslist.org' },
    'Sacramento' => { short: 'sac', url: 'http://sacramento.craigslist.org' },
    'Saginaw-Midland-Baycity' => { short: 'mbs', url: 'http://saginaw.craigslist.org' },
    'Saguenay' => { short: 'sgy', url: 'http://saguenay.craigslist.ca' },
    'Salem' => { short: 'sle', url: 'http://salem.craigslist.org' },
    'Salina' => { short: 'sns', url: 'http://salina.craigslist.org' },
    'Salt Lake City' => { short: 'slc', url: 'http://saltlakecity.craigslist.org' },
    'Salvador, Ahia' => { short: 'ssa', url: 'http://salvador.craigslist.org' },
    'San Angelo' => { short: 'sjt', url: 'http://sanangelo.craigslist.org' },
    'San Antonio' => { short: 'sat', url: 'http://sanantonio.craigslist.org' },
    'San Diego' => { short: 'sdo', url: 'http://sandiego.craigslist.org' },
    'San Francisco Bay Area' => { short: 'sfo', url: 'http://sfbay.craigslist.org' },
    'San Luis Obispo' => { short: 'slo', url: 'http://slo.craigslist.org' },
    'San Marcos' => { short: 'tsu', url: 'http://sanmarcos.craigslist.org' },
    'Sandusky' => { short: 'sky', url: 'http://sandusky.craigslist.org' },
    'Santa Barbara' => { short: 'sba', url: 'http://santabarbara.craigslist.org' },
    'Santa Fe / Taos' => { short: 'saf', url: 'http://santafe.craigslist.org' },
    'Santa Maria' => { short: 'smx', url: 'http://santamaria.craigslist.org' },
    'Sao Paulo' => { short: 'spo', url: 'http://saopaulo.craigslist.org' },
    'Sapporo' => { short: 'spp', url: 'http://sapporo.craigslist.jp' },
    'Sarasota- Radenton' => { short: 'srq', url: 'http://sarasota.craigslist.org' },
    'Sardinia' => { short: 'srd', url: 'http://sardinia.craigslist.it' },
    'Sarnia' => { short: 'srn', url: 'http://sarnia.craigslist.ca' },
    'Saskatoon' => { short: 'skt', url: 'http://saskatoon.craigslist.ca' },
    'Sault Ste Marie' => { short: 'soo', url: 'http://soo.craigslist.ca' },
    'Savannah / Hinesville' => { short: 'sav', url: 'http://savannah.craigslist.org' },
    'Scottsbluff / Panhandle' => { short: 'bff', url: 'http://scottsbluff.craigslist.org' },
    'Scranton / Wilkes-Barre' => { short: 'avp', url: 'http://scranton.craigslist.org' },
    'Seattle-Tacoma' => { short: 'sea', url: 'http://seattle.craigslist.org' },
    'Sendai' => { short: 'sdj', url: 'http://sendai.craigslist.jp' },
    'Seoul' => { short: 'sel', url: 'http://seoul.craigslist.co.kr' },
    'Sevilla' => { short: 'sev', url: 'http://sevilla.craigslist.es' },
    'Shanghai' => { short: 'sha', url: 'http://shanghai.craigslist.com.cn' },
    'Sheboygan' => { short: 'sbm', url: 'http://sheboygan.craigslist.org' },
    'Sheffield' => { short: 'shf', url: 'http://sheffield.craigslist.co.uk' },
    'Shenyang' => { short: 'she', url: 'http://shenyang.craigslist.com.cn' },
    'Shenzhen' => { short: 'szx', url: 'http://shenzhen.craigslist.com.cn' },
    'Sherbrooke' => { short: 'shb', url: 'http://sherbrooke.craigslist.ca' },
    'Show Low' => { short: 'sow', url: 'http://showlow.craigslist.org' },
    'Shreveport' => { short: 'shv', url: 'http://shreveport.craigslist.org' },
    'Sicilia' => { short: 'sic', url: 'http://sicily.craigslist.it' },
    'Sierra Vista' => { short: 'fhu', url: 'http://sierravista.craigslist.org' },
    'Singapore' => { short: 'sng', url: 'http://singapore.craigslist.com.sg' },
    'Sioux City' => { short: 'sux', url: 'http://siouxcity.craigslist.org' },
    'Sioux falls / SE SD' => { short: 'fsd', url: 'http://siouxfalls.craigslist.org' },
    'Siskiyou County' => { short: 'ssk', url: 'http://siskiyou.craigslist.org' },
    'Skagit / Island / SJI' => { short: 'mvw', url: 'http://skagit.craigslist.org' },
    'Skeena-Bulkley' => { short: 'ske', url: 'http://skeena.craigslist.ca' },
    'South Bend / Michiana' => { short: 'sbn', url: 'http://southbend.craigslist.org' },
    'South Coast' => { short: 'sma', url: 'http://southcoast.craigslist.org' },
    'South Dakota' => { short: 'sdk', url: 'http://sd.craigslist.org' },
    'South Florida' => { short: 'mia', url: 'http://miami.craigslist.org' },
    'South Jersey' => { short: 'snj', url: 'http://southjersey.craigslist.org' },
    'Southeast Alaska' => { short: 'jnu', url: 'http://juneau.craigslist.org' },
    'Southeast IA' => { short: 'otu', url: 'http://ottumwa.craigslist.org' },
    'Southeast KS' => { short: 'sek', url: 'http://seks.craigslist.org' },
    'Southeast Missouri' => { short: 'smo', url: 'http://semo.craigslist.org' },
    'Southern Illinois' => { short: 'cbd', url: 'http://carbondale.craigslist.org' },
    'Southern Maryland' => { short: 'smd', url: 'http://smd.craigslist.org' },
    'Southern WV' => { short: 'swv', url: 'http://swv.craigslist.org' },
    'Southwest KS' => { short: 'swk', url: 'http://swks.craigslist.org' },
    'Southwest Michigan' => { short: 'swm', url: 'http://swmi.craigslist.org' },
    'Southwest MN' => { short: 'mml', url: 'http://marshall.craigslist.org' },
    'Southwest MS' => { short: 'hez', url: 'http://natchez.craigslist.org' },
    'Southwest TX' => { short: 'wtx', url: 'http://bigbend.craigslist.org' },
    'Southwest VA' => { short: 'vaw', url: 'http://swva.craigslist.org' },
    'Space Coast' => { short: 'mlb', url: 'http://spacecoast.craigslist.org' },
    'Spokane / Coeur d\'Alene' => { short: 'spk', url: 'http://spokane.craigslist.org' },
    'Springfield' => { short: 'sgf', url: 'http://springfield.craigslist.org' },
    'Springfield' => { short: 'spi', url: 'http://springfieldil.craigslist.org' },
    'St Augustine' => { short: 'ust', url: 'http://staugustine.craigslist.org' },
    'St Cloud' => { short: 'stc', url: 'http://stcloud.craigslist.org' },
    'St George' => { short: 'stg', url: 'http://stgeorge.craigslist.org' },
    'St John\'s' => { short: 'nfl', url: 'http://newfoundland.craigslist.ca' },
    'St Joseph' => { short: 'stj', url: 'http://stjoseph.craigslist.org' },
    'St Louis' => { short: 'stl', url: 'http://stlouis.craigslist.org' },
    'St Petersburg' => { short: 'stp', url: 'http://stpetersburg.craigslist.org' },
    'State College' => { short: 'psu', url: 'http://pennstate.craigslist.org' },
    'Statesboro' => { short: 'tbr', url: 'http://statesboro.craigslist.org' },
    'Stillwater' => { short: 'osu', url: 'http://stillwater.craigslist.org' },
    'Stockton' => { short: 'stk', url: 'http://stockton.craigslist.org' },
    'Strasbourg' => { short: 'sxb', url: 'http://strasbourg.craigslist.org' },
    'Stuttgart' => { short: 'str', url: 'http://stuttgart.craigslist.de' },
    'Sudbury' => { short: 'sud', url: 'http://sudbury.craigslist.ca' },
    'Sunshine Coast' => { short: 'sun', url: 'http://sunshine.craigslist.ca' },
    'Surat Surat' => { short: 'svt', url: 'http://surat.craigslist.co.in' },
    'Susanville' => { short: 'ssn', url: 'http://susanville.craigslist.org' },
    'Sweden' => { short: 'sth', url: 'http://stockholm.craigslist.se' },
    'Sydney' => { short: 'syd', url: 'http://sydney.craigslist.com.au' },
    'Syracuse' => { short: 'syr', url: 'http://syracuse.craigslist.org' },
    'Taiwan' => { short: 'twd', url: 'http://taipei.craigslist.com.tw' },
    'Tallahassee' => { short: 'tal', url: 'http://tallahassee.craigslist.org' },
    'Tampa Bay Area' => { short: 'tpa', url: 'http://tampa.craigslist.org' },
    'Tasmania' => { short: 'hba', url: 'http://hobart.craigslist.com.au' },
    'Tel Aviv' => { short: 'tlv', url: 'http://telaviv.craigslist.org' },
    'Terre Haute' => { short: 'tha', url: 'http://terrehaute.craigslist.org' },
    'Territories' => { short: 'toc', url: 'http://territories.craigslist.ca' },
    'Texarkana' => { short: 'txk', url: 'http://texarkana.craigslist.org' },
    'Texoma' => { short: 'txm', url: 'http://texoma.craigslist.org' },
    'Thailand' => { short: 'bkk', url: 'http://bangkok.craigslist.co.th' },
    'The Thumb' => { short: 'thb', url: 'http://thumb.craigslist.org' },
    'Thunder Bay' => { short: 'tby', url: 'http://thunderbay.craigslist.ca' },
    'Tijuana' => { short: 'tij', url: 'http://tijuana.craigslist.com.mx' },
    'Tokyo' => { short: 'tok', url: 'http://tokyo.craigslist.jp' },
    'Toledo' => { short: 'tol', url: 'http://toledo.craigslist.org' },
    'Topeka' => { short: 'tpk', url: 'http://topeka.craigslist.org' },
    'Torino' => { short: 'trn', url: 'http://torino.craigslist.it' },
    'Toronto' => { short: 'tor', url: 'http://toronto.craigslist.ca' },
    'Toulouse' => { short: 'tls', url: 'http://toulouse.craigslist.org' },
    'Treasure Coast' => { short: 'psl', url: 'http://treasure.craigslist.org' },
    'Tri-Cities' => { short: 'tri', url: 'http://tricities.craigslist.org' },
    'Trois-Rivieres' => { short: 'trs', url: 'http://troisrivieres.craigslist.ca' },
    'Tucson' => { short: 'tus', url: 'http://tucson.craigslist.org' },
    'Tulsa' => { short: 'tul', url: 'http://tulsa.craigslist.org' },
    'Tunisia' => { short: 'tun', url: 'http://tunis.craigslist.org' },
    'Turkey' => { short: 'ist', url: 'http://istanbul.craigslist.com.tr' },
    'Tuscaloosa' => { short: 'tsc', url: 'http://tuscaloosa.craigslist.org' },
    'Tuscarawas CO' => { short: 'nph', url: 'http://tuscarawas.craigslist.org' },
    'Twin Falls' => { short: 'twf', url: 'http://twinfalls.craigslist.org' },
    'Twin Tiers NY/PA' => { short: 'tts', url: 'http://twintiers.craigslist.org' },
    'Tyler / East TX' => { short: 'etx', url: 'http://easttexas.craigslist.org' },
    'U.S. Virgin Islands' => { short: 'vrg', url: 'http://virgin.craigslist.org' },
    'Ukraine' => { short: 'kbp', url: 'http://ukraine.craigslist.org' },
    'United Arab Emirates' => { short: 'uae', url: 'http://dubai.craigslist.org' },
    'Upper Peninsula' => { short: 'yup', url: 'http://up.craigslist.org' },
    'Utica-Rome-Oneida' => { short: 'uti', url: 'http://utica.craigslist.org' },
    'Valdosta' => { short: 'vld', url: 'http://valdosta.craigslist.org' },
    'Valencia' => { short: 'val', url: 'http://valencia.craigslist.es' },
    'Vancouver' => { short: 'van', url: 'http://vancouver.craigslist.ca' },
    'Venezuela' => { short: 'ccs', url: 'http://caracas.craigslist.org' },
    'Venice / Veneto' => { short: 'vce', url: 'http://venice.craigslist.it' },
    'Ventura County' => { short: 'oxr', url: 'http://ventura.craigslist.org' },
    'Veracruz' => { short: 'vcz', url: 'http://veracruz.craigslist.com.mx' },
    'Vermont' => { short: 'brl', url: 'http://burlington.craigslist.org' },
    'Victoria (Ca.)' => { short: 'vic', url: 'http://victoria.craigslist.ca' },
    'Victoria (TX)' => { short: 'vtx', url: 'http://victoriatx.craigslist.org' },
    'Vienna' => { short: 'vie', url: 'http://vienna.craigslist.at' },
    'Vietnam' => { short: 'vtn', url: 'http://vietnam.craigslist.org' },
    'Virgin Islands' => { short: 'vrg', url: 'http://virgin.craigslist.org' },
    'Visalia-Tulare' => { short: 'vis', url: 'http://visalia.craigslist.org' },
    'Waco' => { short: 'wco', url: 'http://waco.craigslist.org' },
    'Washington' => { short: 'wdc', url: 'http://washingtondc.craigslist.org' },
    'Waterloo / Cedar Falls' => { short: 'wlo', url: 'http://waterloo.craigslist.org' },
    'Watertown' => { short: 'wtn', url: 'http://watertown.craigslist.org' },
    'Wausau' => { short: 'wau', url: 'http://wausau.craigslist.org' },
    'Wellington' => { short: 'wll', url: 'http://wellington.craigslist.org' },
    'Wenatchee' => { short: 'wen', url: 'http://wenatchee.craigslist.org' },
    'West Bank' => { short: 'pal', url: 'http://ramallah.craigslist.org' },
    'West Palm Beach' => { short: 'mia', url: 'http://westpalmbeach.craigslist.org' },
    'West Virginia (Old)' => { short: 'wva', url: 'http://wv.craigslist.org' },
    'Western IL' => { short: 'qcy', url: 'http://quincy.craigslist.org' },
    'Western KY' => { short: 'wky', url: 'http://westky.craigslist.org' },
    'Western Maryland' => { short: 'wmd', url: 'http://westmd.craigslist.org' },
    'Western Massachusetts' => { short: 'wma', url: 'http://westernmass.craigslist.org' },
    'Western Slope' => { short: 'gjt', url: 'http://westslope.craigslist.org' },
    'Whistler' => { short: 'whi', url: 'http://whistler.craigslist.ca' },
    'Whitehorse' => { short: 'whh', url: 'http://whitehorse.craigslist.ca' },
    'Wichita Falls' => { short: 'wtf', url: 'http://wichitafalls.craigslist.org' },
    'Wichita' => { short: 'wic', url: 'http://wichita.craigslist.org' },
    'Williamsport' => { short: 'wpt', url: 'http://williamsport.craigslist.org' },
    'Wilmington' => { short: 'wnc', url: 'http://wilmington.craigslist.org' },
    'Winchester' => { short: 'okv', url: 'http://winchester.craigslist.org' },
    'Windsor' => { short: 'wsr', url: 'http://windsor.craigslist.ca' },
    'Winnipeg' => { short: 'win', url: 'http://winnipeg.craigslist.ca' },
    'Winston-Salem' => { short: 'wsl', url: 'http://winstonsalem.craigslist.org' },
    'Wollongong' => { short: 'wol', url: 'http://wollongong.craigslist.com.au' },
    'Worcester / Central MA' => { short: 'wor', url: 'http://worcester.craigslist.org' },
    'Wuhan' => { short: 'wuh', url: 'http://wuhan.craigslist.com.cn' },
    'Wyoming' => { short: 'wyo', url: 'http://wyoming.craigslist.org' },
    'Xi\'an' => { short: 'xiy', url: 'http://xian.craigslist.com.cn' },
    'Yakima' => { short: 'yak', url: 'http://yakima.craigslist.org' },
    'Yellowknife' => { short: 'ykf', url: 'http://yellowknife.craigslist.ca' },
    'York' => { short: 'yrk', url: 'http://york.craigslist.org' },
    'Youngstown' => { short: 'yng', url: 'http://youngstown.craigslist.org' },
    'Yucatan' => { short: 'yuc', url: 'http://yucatan.craigslist.com.mx' },
    'Yuma' => { short: 'yum', url: 'http://yuma.craigslist.org' },
    'Zamboanga' => { short: 'zam', url: 'http://zamboanga.craigslist.com.ph' },
    'Zanesville / Cambridge' => { short: 'zyl', url: 'http://zanesville.craigslist.org' },
    'Zurich' => { short: 'zur', url: 'http://zurich.craigslist.ch' }
      }

CATEGORIES = {
    'for sale' =>  { short: 'sss' },
    'appliances' =>  { short: 'ppa' },
    'antiques' =>  { short: 'ata' },
    'barter' =>  { short: 'bar' },
    'bikes' =>  { short: 'bia' },
    'boats' =>  { short: 'boo' },
    'books' =>  { short: 'bka' },
    'business' =>  { short: 'bfa' },
    'computer' =>  { short: 'sya' },
    'free' =>  { short: 'zip' },
    'furniture' =>  { short: 'fua' },
    'general' =>  { short: 'foa' },
    'jewelry' =>  { short: 'jwa' },
    'materials' =>  { short: 'maa' },
    'rvs' =>  { short: 'rva' },
    'sporting' =>  { short: 'sga' },
    'tickets' =>  { short: 'tia' },
    'tools' =>  { short: 'tla' },
    'wanted' =>  { short: 'wan' },
    'arts crafts' =>  { short: 'ara' },
    'auto parts' =>  { short: 'pta' },
    'baby kids' =>  { short: 'baa' },
    'beauty hlth' =>  { short: 'haa' },
    'cars trucks' =>  { short: 'i/autos' },
    'cds dvd vhs' =>  { short: 'ema' },
    'cell phones' =>  { short: 'moa' },
    'clothes acc' =>  { short: 'cla' },
    'collectibles' =>  { short: 'cba' },
    'electronics' =>  { short: 'ela' },
    'farm garden' =>  { short: 'gra' },
    'garage sale' =>  { short: 'gms' },
    'household' =>  { short: 'hsa' },
    'motorcycles' =>  { short: 'mca' },
    'music instr' =>  { short: 'msa' },
    'photo video' =>  { short: 'pha' },
    'toys games' =>  { short: 'taa' },
    'video gaming' =>  { short: 'vga' },

    'housing' => { short: 'hhh' },
    'apts / housing' =>  { short: 'apa' },
    'rooms / shared' =>  { short: 'roo' },
    'sublets / temporary' =>  { short: 'sub' },
    'housing wanted' =>  { short: 'hsw' },
    'housing swap' =>  { short: 'swp' },
    'vacation rentals' =>  { short: 'vac' },
    'parking storage' =>  { short: 'prk' },
    'office commercial' =>  { short: 'off' },
    'real estate for sale' =>  { short: 'rea' }
  }
end
